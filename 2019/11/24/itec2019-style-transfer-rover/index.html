<!DOCTYPE html>
<html lang=" en ">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Tzeny's demesne - Engineering and travelling</title>
<meta http-equip="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="iTec2019 – Style transfer rover">
<meta name="keywords" content="iTec2019 – Style transfer rover, Tzeny's demesne, artificialintelligence, engineering, hardware">
<link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
<meta content="Tzeny's demesne" property="og:site_name">
<meta content="iTec2019 – Style transfer rover" property="og:title">
<meta content="article" property="og:type">
<meta content="A small corner of the internet dedicated to tutorials, resources and galleries created by me" property="og:description">
<meta content="https://tzeny.com/2019/11/24/itec2019-style-transfer-rover/" property="og:url">
<meta content="2019-11-24T00:00:00+00:00" property="article:published_time">
<meta content="https://tzeny.com/about/" property="article:author">
<meta content="https://tzeny.com/assets/img/posts/2019/11/top8.jpeg" property="og:image">
<meta content="artificialintelligence" property="article:section">
<meta content="gan" property="article:tag">
<meta content="intel" property="article:tag">
<meta content="ncs2" property="article:tag">
<meta content="openvino" property="article:tag">
<meta content="raspberry" property="article:tag">
<meta content="style transfer" property="article:tag">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@">
<meta name="twitter:creator" content="@">
<meta name="twitter:title" content="iTec2019 – Style transfer rover">
<meta content="Tzeny's demesne" property="og:site_name">
<meta name="twitter:url" content="https://tzeny.com/2019/11/24/itec2019-style-transfer-rover/">
<meta name="twitter:description" content="A small corner of the internet dedicated to tutorials, resources and galleries created by me">
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/assets/css/custom-style.css">
<link rel="stylesheet" href="/assets/bower_components/lightgallery/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">
<link rel="stylesheet" href="/assets/bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="/assets/bower_components/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/assets/lightbox2/dist/css/lightbox.min.css">
<link rel="icon" href="https://tzeny.com/assets/img/favicon.ico" type="image/gif" sizes="16x16"> <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" crossorigin="anonymous"></script> <script src="/assets/bower_components/jquery.easing/jquery.easing.min.js"></script> <script src="/assets/bower_components/bootstrap/dist/js/bootstrap.bundle.min.js"></script> <script src="/assets/bower_components/jquery-mousewheel/jquery.mousewheel.min.js"></script> <script src="/assets/bower_components/lightgallery/dist/js/lightgallery-all.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/picturefill/3.0.2/picturefill.min.js"></script> <script src="/assets/bower_components/imagesloaded/imagesloaded.pkgd.min.js"></script> <script src="/assets/bower_components/nanobar/nanobar.min.js"></script> <script src="/assets/bower_components/typewrite/dist/typewrite.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script> <script async defer src="https://buttons.github.io/buttons.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-10302687-11"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-10302687-11'); </script><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.css"> <script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.js"></script>
</head>
<body>
<div class="container-fluid">
<header><div class="col-lg-12"><div class="row"><nav class="navbar navbar-expand-lg fixed-top navbar-dark " id="topNav"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="/">Tzeny's demesne</a><div class="collapse navbar-collapse" id="navbarNav"><ul class="navbar-nav">
<li class="nav-item"> <a class="nav-link" href="https://tzeny.com/about">About/Contact Me</a>
</li>
<li class="nav-item"> <a class="nav-link" href="https://tzeny.com/blog">Blog</a>
</li>
<li class="nav-item"> <a class="nav-link" href="https://tzeny.com/wiki">Wiki</a>
</li>
<li class="nav-item"> <a class="nav-link" href="https://tzeny.com/gallery">Galleries</a>
</li>
</ul></div>
<ul class="nav justify-content-end"><li class="nav-item"> <input class="nav-link switch" id="theme-toggle" onclick="modeSwitcher() " type="checkbox" name="checkbox">
</li></ul></nav></div></div></header><div class="col-lg-12">
<div class="col-lg-12"><nav aria-label="breadcrumb" role="navigation"><ol class="breadcrumb">
<li class="breadcrumb-item"> <a href="https://tzeny.com"><i class="fa fa-home" aria-hidden="true"></i></a>
</li>
<li class="breadcrumb-item"> <a href="https://tzeny.com/blog">Blog</a>
</li>
<li class="breadcrumb-item active" aria-current="page"><a href="/2019/11/24/itec2019-style-transfer-rover/">iTec2019 – Style transfer rover</a></li>
</ol></nav></div>
<div class="row" id="blog-post-container"><div class="col-lg-8 offset-md-2">
<article class="card" itemscope itemtype="http://schema.org/BlogPosting"><div class="card-header">
<h4 class="post-meta"></h4>
<p class="post-summary">Posted by : <img src="https://tzeny.com/assets/img/profile.png" class="author-profile-img"> <span itemprop="author" itemscope itemtype="http://schema.org/Person"> <span itemprop="name">teny96@gmail.com</span> </span> at <time datetime="2019-11-24 00:00:00 +0000" itemprop="datePublished">Nov 24, 2019</time></p>
<span class="disqus-comment-count" data-disqus-identifier="/2019/11/24/itec2019-style-transfer-rover/"></span><div class="post-categories"> Category : <a href="/blog/categories/artificialintelligence">artificialintelligence</a>   <a href="/blog/categories/engineering">engineering</a>   <a href="/blog/categories/hardware">hardware</a>
</div>
</div>
<div class="card-body" itemprop="articleBody">
<p><a rel="noreferrer noopener" aria-label="iTEC (opens in a new tab)" href="https://itec.ligaac.ro/" target="_blank">iTEC</a> is a contest dedicated to pupils and students with an interest in IT. This was its 13th edition; over 200 participants showed up. It consists of a couple of short (~6 hour) challenges and 4 hackathons (web, mobile, game dev and embedded).</p>
<p>Together with Arin we took part in the embedded hackathon. We received:</p>
<ul>
<li>1 x 4WD robotics kit, similar to this <a rel="noreferrer noopener" href="https://www.amazon.com/Robot-Chassis-Motor-Arduino-Raspberry/dp/B07F759T89?ref_=nav_custrec_signin&amp;" target="_blank">one</a>
</li>
<li>1 x Raspberry Pi 3</li>
<li>1 x <a rel="noreferrer noopener" aria-label="Intel NCS2 (opens in a new tab)" href="https://software.intel.com/en-us/neural-compute-stick" target="_blank">Intel NCS2</a>
</li>
<li>1 x Raspberry Pi Camera</li>
<li>assorted accessories like H bridges, level converters, battery holders and screws</li>
</ul>
<h2 id="our-idea">Our idea</h2>
<p>We wanted to build a rover that ran different style transfer Generative Adversarial networks on the NCS2. It would be remote controlled, with controls for rover movement and camera movement.</p>
<p>This will allow people to explore the real world through the eyes of Van Gogh, or an acid tripping person. And for those of you thinking we could’ve done it with a phone and a cloud computer, well, we could’ve but GLaDOS wanted to live.</p>
<h2 id="the-hard-how-behind-it">The hard how behind it</h2>
<p>For the camera we used a 2 axis mount with <a rel="noreferrer noopener" aria-label="SG 90 (opens in a new tab)" href="https://components101.com/servo-motor-basics-pinout-datasheet" target="_blank">SG 90</a> servos.</p>
<figure class="image"> <img src="/assets/img/posts/2019/11/camera-1024x768.jpeg" alt="" style="max-width: 100%;"><figcaption></figcaption></figure><p>We mounted it upside down because it looked cool, and it kind of resembled GLaDOS. We had some issues with the servo driver, and ended up switching to the <strong>pigpio</strong> library instead of the standard <strong>RPi.GPIO</strong> and it worked out pretty well.</p>
<p>The engines were wired together in 2 parallel groups (left and right) and used an H bridge powered by 4 AA batteries (later 8 AA batteries in parallel) to control them.</p>
<figure class="image"> <img src="/assets/img/posts/2019/11/engines-1024x768.jpeg" alt="" style="max-width: 100%;"><figcaption></figcaption></figure><p>The brain of the whole machine is a Raspberry Pi 3, which controls the 4 motors and 2 camera servos through 3.3 to 5 bidirectional <a rel="noreferrer noopener" aria-label="logic level converters (opens in a new tab)" href="https://www.addicore.com/Logic-Level-Converter-Bi-Directional-5V-to-3-3V-p/227.htm" target="_blank">logic level converters</a>. Inference was performed on the Intel NCS 2.</p>
<figure class="image"> <img src="/assets/img/posts/2019/11/brains-768x1024.jpeg" alt="" style="max-width: 100%;"><figcaption></figcaption></figure><p>To top it off we added a small <a rel="noreferrer noopener" aria-label="128 x 128 TFT Display (opens in a new tab)" href="https://www.aliexpress.com/item/33014277663.html" target="_blank">128 x 128 TFT Display</a> and a 10Ah power bank to power the Rasberry.</p>
<div class="wp-block-responsive-lightbox-gallery"><div class="rl-gallery-container rl-loading" id="rl-gallery-container-33" data-gallery_id="788"><div class="rl-gallery rl-basicgrid-gallery " id="rl-gallery-33" data-gallery_no="33"> <a class="lightbox2-image" href="/assets/img/posts/2019/11/top99.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/top99-300x225.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/top8.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/top8-300x225.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/top7.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/top7-300x225.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/top6.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/top6-300x225.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/top5.jpeg" data-lightbox="set_1" data-title="Image processed to the 'mosaic' style"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/top5-300x225.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/top4.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/top4-300x225.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/top3.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/top3-300x225.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/top2.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/top2-300x225.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/top.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/top-300x225.jpeg" alt=""></a>
</div></div></div>
<h2 id="the-soft-how-behind-it">The soft how behind it</h2>
<p>In true hackathon style we ran 3 servers on the Raspberry Pi.</p>
<p>One that ran the inference, created the video stream and provided a route allowing the client to request a model change.</p>
<p>One was a Flask REST API that allowed the client to control the motors and the camera servos.</p>
<p>And finally, a small Python 3 HTTP server that provided the frontend. Although initially we planned on using it from the laptop, I decided to turn it into a mobile ‘app’ with 2 joysticks.</p>
<figure class="image"> <img src="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.03-1024x485.jpeg" alt="" style="max-width: 100%;"><figcaption></figcaption></figure><p>The cyan joystick controls the motor, and the orange one controls the camera.</p>
<p>We found a number of network styles pretrained, and we also trained one of our own based on this image:</p>
<figure class="image"> <img src="/assets/img/posts/2019/11/acid.resized.jpg" alt="" style="max-width: 100%;"><figcaption></figcaption></figure><h2 id="the-results">The results</h2>
<div class="wp-block-responsive-lightbox-gallery"><div class="rl-gallery-container rl-loading" id="rl-gallery-container-34" data-gallery_id="799"><div class="rl-gallery rl-basicgrid-gallery " id="rl-gallery-34" data-gallery_no="34"> <a class="lightbox2-image" href="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.04.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.04-300x142.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.041.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.041-300x142.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.03-1.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.03-1-300x142.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.054.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.054-300x142.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.043.jpeg" data-lightbox="set_1" data-title="Camera covered, image generated from blackness"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.043-300x142.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.05.jpeg" data-lightbox="set_1" data-title="Camera covered, image generated from blackness"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.05-300x142.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.051.jpeg" data-lightbox="set_1" data-title="Camera covered, image generated from blackness"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/WhatsApp-Image-2019-11-24-at-14.25.051-300x142.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/hand.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/hand-225x300.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/welp.jpeg" data-lightbox="set_1" data-title=""><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/welp-225x300.jpeg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2019/11/muschi.jpeg" data-lightbox="set_1" data-title="Failing attempts at training a GAN; on the bright side it learned to color skin green"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2019/11/muschi-225x300.jpeg" alt=""></a>
</div></div></div>
<p>We managed to win second place using our little rover. A good hackathon indeed.</p>
</div>
<div id="disqus_thread"></div></article><script> var disqus_config = function () { this.page.url = "https://tzeny.com/2019/11/24/itec2019-style-transfer-rover/"; /* Replace PAGE_URL with your page's canonical URL variable */ this.page.identifier = "/2019/11/24/itec2019-style-transfer-rover"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */ }; (function () { /* DON'T EDIT BELOW THIS LINE */ var d = document, s = d.createElement('script'); s.src = 'https://.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a> </noscript>
</div></div>
</div>
</div>
<footer><p> Powered by<a href="https://github.com/sujaykundu777/devlopr-jekyll"> devlopr jekyll</a>. Subscribe via <a href="/feed.xml%20">RSS</a></p></footer><script> var options = { classname: 'my-class', id: 'my-id' }; var nanobar = new Nanobar( options ); nanobar.go( 30 ); nanobar.go( 76 ); nanobar.go(100); </script> <script src="/assets/js/mode-switcher.js"></script> <script src="/assets/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
</body>
</html>
