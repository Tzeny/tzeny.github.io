<!DOCTYPE html>
<html lang=" en ">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Tzeny's demesne - Engineering and travelling</title>
<meta http-equip="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Building a cheap NAS">
<meta name="keywords" content="Building a cheap NAS, Tzeny's demesne, engineering">
<link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
<meta content="Tzeny's demesne" property="og:site_name">
<meta content="Building a cheap NAS" property="og:title">
<meta content="article" property="og:type">
<meta content="A small corner of the internet dedicated to tutorials, resources and galleries created by me" property="og:description">
<meta content="https://tzeny.com/2017/09/15/building-a-cheap-nas/" property="og:url">
<meta content="2017-09-15T00:00:00+00:00" property="article:published_time">
<meta content="https://tzeny.com/about/" property="article:author">
<meta content="https://tzeny.com/assets/img/posts/2017/09/IMG_20170914_221530-360x210.jpg" property="og:image">
<meta content="engineering" property="article:section">
<meta content="attached" property="article:tag">
<meta content="diy" property="article:tag">
<meta content="hdd" property="article:tag">
<meta content="network" property="article:tag">
<meta content="server" property="article:tag">
<meta content="storage" property="article:tag">
<meta content="ubuntu" property="article:tag">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@">
<meta name="twitter:creator" content="@">
<meta name="twitter:title" content="Building a cheap NAS">
<meta content="Tzeny's demesne" property="og:site_name">
<meta name="twitter:url" content="https://tzeny.com/2017/09/15/building-a-cheap-nas/">
<meta name="twitter:description" content="A small corner of the internet dedicated to tutorials, resources and galleries created by me">
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/assets/css/custom-style.css">
<link rel="stylesheet" href="/assets/bower_components/lightgallery/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">
<link rel="stylesheet" href="/assets/bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="/assets/bower_components/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/assets/lightbox2/dist/css/lightbox.min.css">
<link rel="icon" href="https://tzeny.com/assets/img/favicon.ico" type="image/gif" sizes="16x16"> <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" crossorigin="anonymous"></script> <script src="/assets/bower_components/jquery.easing/jquery.easing.min.js"></script> <script src="/assets/bower_components/bootstrap/dist/js/bootstrap.bundle.min.js"></script> <script src="/assets/bower_components/jquery-mousewheel/jquery.mousewheel.min.js"></script> <script src="/assets/bower_components/lightgallery/dist/js/lightgallery-all.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/picturefill/3.0.2/picturefill.min.js"></script> <script src="/assets/bower_components/imagesloaded/imagesloaded.pkgd.min.js"></script> <script src="/assets/bower_components/nanobar/nanobar.min.js"></script> <script src="/assets/bower_components/typewrite/dist/typewrite.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script> <script async defer src="https://buttons.github.io/buttons.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-10302687-11"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-10302687-11'); </script><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.css"> <script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.js"></script>
</head>
<body>
<div class="container-fluid">
<header><div class="col-lg-12"><div class="row"><nav class="navbar navbar-expand-lg fixed-top navbar-dark " id="topNav"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <a class="navbar-brand" href="/">Tzeny's demesne</a><div class="collapse navbar-collapse" id="navbarNav"><ul class="navbar-nav">
<li class="nav-item"> <a class="nav-link" href="https://tzeny.com/about">About/Contact Me</a>
</li>
<li class="nav-item"> <a class="nav-link" href="https://tzeny.com/blog">Blog</a>
</li>
<li class="nav-item"> <a class="nav-link" href="https://tzeny.com/wiki">Wiki</a>
</li>
<li class="nav-item"> <a class="nav-link" href="https://tzeny.com/gallery">Galleries</a>
</li>
</ul></div>
<ul class="nav justify-content-end"><li class="nav-item"> <input class="nav-link switch" id="theme-toggle" onclick="modeSwitcher() " type="checkbox" name="checkbox">
</li></ul></nav></div></div></header><div class="col-lg-12">
<div class="col-lg-12"><nav aria-label="breadcrumb" role="navigation"><ol class="breadcrumb">
<li class="breadcrumb-item"> <a href="https://tzeny.com"><i class="fa fa-home" aria-hidden="true"></i></a>
</li>
<li class="breadcrumb-item"> <a href="https://tzeny.com/blog">Blog</a>
</li>
<li class="breadcrumb-item active" aria-current="page"><a href="/2017/09/15/building-a-cheap-nas/">Building a cheap NAS</a></li>
</ol></nav></div>
<div class="row" id="blog-post-container"><div class="col-lg-8 offset-md-2">
<article class="card" itemscope itemtype="http://schema.org/BlogPosting"><div class="card-header">
<h4 class="post-meta"></h4>
<p class="post-summary">Posted by : <img src="https://tzeny.com/assets/img/profile.png" class="author-profile-img"> <span itemprop="author" itemscope itemtype="http://schema.org/Person"> <span itemprop="name">Tzeny</span> </span> at <time datetime="2017-09-15 00:00:00 +0000" itemprop="datePublished">Sep 15, 2017</time></p>
<span class="disqus-comment-count" data-disqus-identifier="/2017/09/15/building-a-cheap-nas/"></span><div class="post-categories"> Category : <a href="/blog/categories/engineering">engineering</a>
</div>
</div>
<div class="card-body" itemprop="articleBody">
<p>Do you have an old computer laying around? Do you want to have easy access to all of your files and folders?</p>
<p>If the answer to these questions is yes, then follow me and let’s build a cheap NAS (Network Attached Storage) together!</p>
<p>This is the end result:</p>
<div class="rl-gallery-container" id="rl-gallery-container-5" data-gallery_id="0"><div class="rl-gallery rl-basicgrid-gallery " id="rl-gallery-5" data-gallery_no="5"> <a class="lightbox2-image" href="/assets/img/posts/2017/09/IMG_20170914_221530.jpg" data-lightbox="set_1" data-title="The computer housing the NAS"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2017/09/IMG_20170914_221530-300x225.jpg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2017/09/hidra_network.jpg" data-lightbox="set_1" data-title="This is how Windows sees our NAS, as a Network Share location"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2017/09/hidra_network-300x172.jpg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2017/09/hidra_phone.jpg" data-lightbox="set_1" data-title="This is how our Phone sees our NAS"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2017/09/hidra_phone-169x300.jpg" alt=""></a>
</div></div>
<p>Our goal here is to create a Network storage location, accessible for anyone on the network, no matter what device they are using. I tested mine with Windows and Android, but it should work with Linux as well.</p>
<p>Note: Using VPN you can access your NAS remotely and securely. <a href="https://tzeny.com/2017/08/03/making-your-own-vpn/" target="_blank" rel="noopener">Click here</a> to learn how to create your own 35$ VPN server.</p>
<h2 id="what-is-a-nas">What is a NAS?</h2>
<p>Network-attached storage (NAS) is a file-level computer data storage server connected to a computer network providing data access to a heterogeneous group of clients. NAS is specialized for serving files either by its hardware, software, or configuration. It is often manufactured as a computer appliance – a purpose-built specialized computer. NAS systems are networked appliances which contain one or more storage drives, often arranged into logical, redundant storage containers or RAID.Network-attached storage removes the responsibility of file serving from other servers on the network. They typically provide access to files using network file sharing protocols such as NFS, SMB/CIFS, or AFP.</p>
<p> </p>
<p>Parts used:</p>
<ul>
<li>Old Dell computer (any old PC should work, but having SATA ports and RAID support are big bonuses; I used a Dell Optiplex G520)</li>
<li>1 TB HDD (the capacity depends on what your storage needs are)</li>
</ul>
<p>Software used:</p>
<ul>
<li><a href="https://www.ubuntu.com/download/server">Ubuntu Server</a></li>
<li>Windows Explorer</li>
<li><a href="https://play.google.com/store/apps/details?id=com.estrongs.android.pop&amp;hl=en">ES File Explorer</a></li>
</ul>
<p> </p>
<h2 id="hardware">Hardware</h2>
<p>There’s not much to it. Just make sure your computer is powered on and is connected to the network.</p>
<p>In my case I also did a slight modification of the design. Because I had a HDD laying about, I decided I want to add it to the NAS. But, this was a problem since there was no room in the case for an extra drive. So, after a bit of tinkering I managed to fix it inside the CD Rom bay. Note that this is a 2.5” drive.</p>
<figure id="attachment_147" aria-describedby="caption-attachment-147" style="width: 300px" class="wp-caption alignnone">&lt;a href="https://tzeny.com/wp-content/uploads/2017/09/IMG\_20170914\_221559.jpg" data-rel="lightbox-image-0" data-rl\_title="" data-rl\_caption="" title=""&gt;<figure class="image"> <img src="/assets/img/posts/2017/09/IMG_20170914_221559-300x225.jpg" alt="" style="max-width: 100%;"><figcaption></figcaption></figure>/a&gt;<figcaption id="caption-attachment-147" class="wp-caption-text">A 1 TB drive mounted inside the CD Rom bay</figcaption></figure><h2 id="software">Software</h2>
<h3 id="1-os">1. OS</h3>
<p>First of all, just install Ubuntu Server the normal way. I used the server version because it is lighter on resources.</p>
<p><a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-server">Here</a> you can find a great guide if you’re not sure how to proceed. I recommend setting a secure password, as this will be a network connected device.</p>
<p>You should also assign a static IP to your server now, and note it down.</p>
<h3 id="2-extra-drive-optional">2. Extra drive (optional)</h3>
<p>If you have added a new drive in the system you need to:</p>
<ul>
<li><a href="https://tzeny.com/2017/09/25/formatting-and-partitioning-a-drive-under-ubuntu/">Partition and format it</a></li>
<li><a href="https://tzeny.com/2017/09/25/automounting-partition-ubuntu/">Automatically mount it</a></li>
</ul>
<p>You should also create a directory which will become the network share now. In my case I used /data.</p>
<p>Since only an admin can create files and folders under the root of the system (/). To achieve this use:</p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;width:435px;"><div class="bash codecolorer"> <span class="kw2">sudo</span> <span class="kw2">mkdir</span> <span class="sy0">/</span>data<br> <br> <span class="kw2">sudo</span> <span class="kw2">chown</span> <span class="br0">[</span>username<span class="br0">]</span> <span class="sy0">/</span>data</div></div>
<h3 id="3-installing-and-configuring-samba">3. Installing and configuring samba</h3>
<p>In order to create network shares, we will use an utility called samba. You can install it using the following commands.</p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;width:435px;"><div class="bash codecolorer"> <span class="kw2">sudo</span> <span class="kw2">apt-get update</span><br> <span class="kw2">sudo</span> <span class="kw2">apt-get install</span> samba</div></div>
<p>Next, we have to set a password for our samba user (this is a different password from you login one)</p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;width:435px;"><div class="bash codecolorer"> <span class="kw2">sudo</span> smbpasswd <span class="re5">-a</span> <span class="br0">[</span>username<span class="br0">]</span>
</div></div>
<p>Good. Now, we have to tell samba which folders should be available to the network.</p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;width:435px;"><div class="bash codecolorer"> <span class="kw2">sudo</span> <span class="kw2">cp</span> <span class="sy0">/</span>etc<span class="sy0">/</span>samba<span class="sy0">/</span>smb.conf ~ <span class="co0">#create a backup of the config file</span><br> <br> <span class="kw2">sudo</span> <span class="kw2">nano</span> <span class="sy0">/</span>etc<span class="sy0">/</span>samba<span class="sy0">/</span>smb.conf</div></div>
<p>Now, you should add these lines to the bottom of the file:</p>
<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:435px;"><div class="text codecolorer"> [somename]<br> path = /home/username/foldername<br> valid users = username<br> read only = no</div></div>
<p>Note: mind the spaces before and after the equal signs. Replace foldername and username with your own data</p>
<p>So, in the case of my /data folder, I need to write this to the config file:</p>
<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:435px;"><div class="text codecolorer"> [Share]<br> path = /data<br> valid users = [my_user]<br> read only = no</div></div>
<p>Now, we need to restart the samba service, and check that everything is all right:</p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;width:435px;"><div class="bash codecolorer"> <span class="kw2">sudo</span> service smbd restart<br> <br> testparm</div></div>
<h2 id="accessing-your-share">Accessing your share</h2>
<h3 id="1-windows">1. Windows</h3>
<p>Open the File Explorer and go to the network tab. There you should see your machine, and other devices connected to your network. If it asks you whether you want to discover other devices on the network accept.</p>
<div class="rl-gallery-container" id="rl-gallery-container-6" data-gallery_id="0"><div class="rl-gallery rl-basicgrid-gallery " id="rl-gallery-6" data-gallery_no="6"> <a class="lightbox2-image" href="/assets/img/posts/2017/09/hidra_network_2.jpg" data-lightbox="set_1" data-title="Your computer should appear on your network now"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2017/09/hidra_network_2-300x144.jpg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2017/09/hidra_network_3.jpg" data-lightbox="set_1" data-title="Login with your username and Samba password"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2017/09/hidra_network_3-300x236.jpg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2017/09/hidra_network.jpg" data-lightbox="set_1" data-title="This is how Windows sees our NAS, as a Network Share location"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2017/09/hidra_network-300x172.jpg" alt=""></a>
</div></div>
<h3 id="2-android">2. Android</h3>
<p>Download and install the free app <a href="https://play.google.com/store/apps/details?id=com.estrongs.android.pop&amp;hl=en">ES File Explorer</a>. In the left menu, go to Network -&gt; Lan. Click the big plus on the lower right side of the screen. And add your server’s details (IP, username and password; you can also set a display name here if you wish). After you click done, it should appear as an icon on your screen. Just tap it and you’re in!</p>
<p>Note: you should be on the same network as the server for this to work</p>
<div class="rl-gallery-container" id="rl-gallery-container-7" data-gallery_id="0"><div class="rl-gallery rl-basicgrid-gallery " id="rl-gallery-7" data-gallery_no="7"> <a class="lightbox2-image" href="/assets/img/posts/2017/09/nas_android_1.jpg" data-lightbox="set_1" data-title="First press the big blue + in the bottom right"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2017/09/nas_android_1-169x300.jpg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2017/09/nas_android_2.jpg" data-lightbox="set_1" data-title="Now fill in your server information; use the password you set for Samba"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2017/09/nas_android_2-169x300.jpg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2017/09/nas_android_3.jpg" data-lightbox="set_1" data-title="Now your server should appear"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2017/09/nas_android_3-169x300.jpg" alt=""></a> <a class="lightbox2-image" href="/assets/img/posts/2017/09/nas_android_4.jpg" data-lightbox="set_1" data-title="And if you click on it you will see your files and folders"><img class="lightbox2-image-thumbnail" src="/assets/img/posts/2017/09/nas_android_4-169x300.jpg" alt=""></a>
</div></div>
<h2 id="ideas-for-the-future">Ideas for the future</h2>
<ol>
<li>Set up either RAID or a backup system</li>
<li>Keep the computer turned off when not needed and use Wake on Lan to turn it on (tutorial coming)</li>
<li>Use a VPN to securely acess your NAS from anywhere (<a href="https://tzeny.com/2017/08/03/making-your-own-vpn/">VPN tutorial</a>)</li>
</ol>
</div>
<div id="disqus_thread"></div></article><script> var disqus_config = function () { this.page.url = "https://tzeny.com/2017/09/15/building-a-cheap-nas/"; /* Replace PAGE_URL with your page's canonical URL variable */ this.page.identifier = "/2017/09/15/building-a-cheap-nas"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */ }; (function () { /* DON'T EDIT BELOW THIS LINE */ var d = document, s = d.createElement('script'); s.src = 'https://.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a> </noscript>
</div></div>
</div>
</div>
<footer><p> Powered by<a href="https://github.com/sujaykundu777/devlopr-jekyll"> devlopr jekyll</a>. Subscribe via <a href="/feed.xml%20">RSS</a></p></footer><script> var options = { classname: 'my-class', id: 'my-id' }; var nanobar = new Nanobar( options ); nanobar.go( 30 ); nanobar.go( 76 ); nanobar.go(100); </script> <script src="/assets/js/mode-switcher.js"></script> <script src="/assets/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
</body>
</html>
